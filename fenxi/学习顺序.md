## Vulkan `examples` 学习路线指南

> 仓库路径：`examples/`  
> 目标：从零（或基础）逐步掌握 Vulkan 的主要用法与高级特性。

---

## 总体学习原则

- **从简单到复杂**：先图形基础，再常见渲染技巧，再扩展与高级特性。
- **从核心到边缘**：优先掌握项目中最常用的内容（管线、资源、同步），再看冷门特性。
- **先跑后读代码**：每个示例先编译运行，确认效果，再按需要深入阅读实现。

---

## 第一阶段：打基础（必修）

**目标：跑通最小 Demo，搞清楚基本渲染管线和资源概念。**

1. `triangle` / `trianglevulkan13`
   - 学习重点：
     - Vulkan 实例、物理设备 / 逻辑设备、队列
     - 交换链、RenderPass、Framebuffer
     - 基本图形管线（顶点 + 片元）、命令缓冲的录制与提交
   - 建议顺序：先看 `triangle`，再对照 `trianglevulkan13` 看 Vulkan 1.3 的改动/简化。

2. `texture`
   - 学习重点：
     - `VkImage` / `VkImageView` / `VkSampler` 的关系
     - 图像布局迁移（layout transitions）
     - 在片元着色器中采样纹理

3. `descriptorsets`
   - 学习重点：
     - 描述符集布局（`VkDescriptorSetLayout`）、描述符池（`VkDescriptorPool`）
     - 更新描述符集，把 buffer / image 绑定给着色器

4. `pushconstants`
   - 学习重点：
     - Push constants 的用法和限制
     - 与 UBO 相比的优缺点及适用场景（小数据、高频更新）

5. `pipelines` / `graphicspipelinelibrary`（二选一或都看）
   - 学习重点：
     - 图形管线各阶段配置：输入组装、视口、光栅化、深度/模板、颜色混合等
     - 管线缓存 / 管线库的概念与使用

6. `vertexattributes`
   - 学习重点：
     - 顶点输入绑定和属性描述（位置 / 法线 / UV / 颜色）
     - struct 中各成员在着色器中的布局对应关系

---

## 第二阶段：常见渲染技巧（核心渲染）

**目标：掌握实时渲染中常见的图形技术。**

7. `multisampling`
   - 学习重点：
     - MSAA 的基本概念
     - 多重采样颜色 / 深度附件的配置与解析

8. `shadowmapping` → `shadowmappingcascade` / `shadowmappingomni`
   - 学习重点：
     - 深度贴图渲染 pass，阴影贴图采样
     - 深度偏移、防止 shadow acne
     - 级联阴影（Cascaded Shadow Maps）与点光源阴影

9. `deferred` → `deferredshadows` / `deferredmultisampling`
   - 学习重点：
     - 延迟渲染 G-Buffer（位置、法线、颜色等）
     - 几何 pass 与光照 pass 的拆分
     - 多渲染目标（MRT）的使用

10. 后处理与屏幕空间效果（根据兴趣选择几个）
    - 示例建议：
      - `ssao`
      - `hdr`
      - `bloom`
      - `radialblur`
    - 学习重点：
      - 全屏三角形/四边形渲染
      - 屏幕空间采样、模糊、深度/法线缓冲的使用
      - HDR 流程、曝光、色调映射

11. 其他多 pass / 子通道相关（选学）
    - 示例建议：
      - `offscreen`
      - `inputattachments`
      - `subpasses`
      - `oit`
    - 学习重点：
      - 离屏渲染到纹理，再在主 pass 中采样
      - 次通道（Subpass）与输入附件（input attachments）的用法

---

## 第三阶段：模型与材质（PBR / glTF）

**目标：从基本几何体升级到“真实场景与材质”。**

12. `gltfloading` → `gltfscenerendering` → `gltfskinning`
    - 学习重点：
      - glTF 模型加载、场景节点层次结构
      - 材质、纹理、多网格、多节点
      - 骨骼蒙皮、骨骼矩阵更新、动画播放

13. PBR 相关示例
    - 示例建议：
      - `pbrbasic`
      - `pbrtexture`
      - `pbribl`
      - `sphericalenvmapping`
    - 学习重点：
      - PBR 基本参数：Albedo、Roughness、Metallic、Normal 等
      - IBL（基于图像的光照）：环境贴图、预过滤环境贴图、BRDF LUT
      - 环境映射（反射 / 折射等）

---

## 第四阶段：GPU 计算 & 异构工作负载

**目标：理解 Compute Pipeline，用 GPU 做通用计算和渲染辅助。**

14. `computeshader`
    - 学习重点：
      - Compute pipeline 的创建与调度
      - 工作组（workgroup）尺寸和本地线程布局
      - 内存屏障、资源读写同步

15. 高级 Compute 示例（按兴趣/需求选择）
    - 示例建议：
      - `computeparticles`
      - `computenbody`
      - `computecloth`
      - `computecullandlod`
    - 学习重点：
      - 用 Compute 更新粒子 / N-body 系统 / LOD / 布料
      - 间接绘制（indirect draw）与 GPU 剔除

16. 无头渲染相关（有需求再看）
    - 示例建议：
      - `computeheadless`
      - `renderheadless`
      - `screenshot`
    - 学习重点：
      - 无窗口环境下的渲染 / 计算
      - 将结果导出为图像 / 供离线使用

---

## 第五阶段：高级 Vulkan 特性 & 扩展

**目标：掌握 Vulkan 1.2/1.3 及各类实用扩展。**

17. 同步与动态渲染
    - 示例建议：
      - `timelinesemaphore`
      - `dynamicrendering`
      - `dynamicrenderingmultisampling`
    - 学习重点：
      - 时间线信号量（timeline semaphore），更灵活的同步方式
      - 不依赖传统 RenderPass/Framebuffer 的动态渲染路径

18. 调试与分析
    - 示例建议：
      - `debugutils`
      - `debugprintf`
      - `pipelinestatistics`
    - 学习重点：
      - 对象命名、标签、标记范围
      - 在着色器中打印调试信息
      - 收集和分析管线统计数据

19. 描述符与资源增强
    - 示例建议：
      - `descriptorindexing`
      - `descriptorbuffer`
      - `inlineuniformblocks`
      - `texturesparseresidency`
    - 学习重点：
      - 可变数量绑定、bindless 资源的思想
      - 描述符缓冲（descriptor buffer）路径
      - 稀疏资源（sparse residency）

20. 新型管线与着色器功能
    - 示例建议：
      - `meshshader`
      - `fragmentshaderbarycentrics`
      - `variablerateshading`
    - 学习重点：
      - Mesh / Task Shader 管线
      - 片元着色器重心坐标（barycentrics）
      - 可变速率着色（VRS）

---

## 第六阶段：光线追踪相关

**目标：掌握 Vulkan Ray Tracing / Ray Query 的基本使用。**

21. 基础光追
    - 示例建议：
      - `raytracingbasic`
    - 学习重点：
      - BLAS / TLAS（加速结构）的构建与更新
      - Ray tracing pipeline 结构
      - SBT（Shader Binding Table）的基本概念

22. 进阶光追效果
    - 示例建议：
      - `raytracingshadows`
      - `raytracingreflections`
      - `raytracingtextures`
    - 学习重点：
      - 阴影、反射、纹理采样等在光追中的实现

23. Ray Query 与复杂场景
    - 示例建议：
      - `rayquery`
      - `raytracinggltf`
      - 其他 `raytracing*` 示例（按兴趣选择）
    - 学习重点：
      - 在传统 raster pipeline 中使用 ray query
      - 将光追与 glTF 场景结合

---

## 第七阶段：其他专题（按兴趣选修）

24. 多线程与批量渲染
    - 示例建议：
      - `multithreading`
      - `instancing`
      - `indirectdraw`
      - `conditionalrender`
      - `occlusionquery`
      - `viewportarray`
    - 学习重点：
      - 多线程录制命令缓冲
      - 实例化渲染、间接绘制
      - 条件渲染、遮挡查询

25. 几何与曲面细分
    - 示例建议：
      - `geometryshader`
      - `tessellation`
      - `terraintessellation`
      - `displacement`
    - 学习重点：
      - 几何着色器的基本用法
      - 曲面细分着色器（Tessellation）与位移贴图

26. UI 与文本渲染
    - 示例建议：
      - `distancefieldfonts`
      - `textoverlay`
      - `imgui`
    - 学习重点：
      - 文本渲染（SDF 字体）
      - 调试 / 工具 UI 集成

27. 综合示例
    - 示例建议：
      - `vulkanscene`
      - `gears`
      - `particlesystem`
    - 学习重点：
      - 综合运用前面学过的多种技术
      - 大型示例的工程组织方式

---

## 每个示例的建议学习步骤

1. **先编译并运行示例**  
   观察画面效果和控制方式，建立直观印象。

2. **阅读入口与主循环相关代码**  
   重点关注：
   - 初始化（实例 / 设备 / 交换链 / RenderPass / Framebuffer）
   - 资源创建（buffer / image / descriptor / pipeline）
   - 绘制或 dispatch 流程（命令缓冲录制与提交、同步）

3. **挑 1–2 个你不熟的点深入理解**  
   - 对照 Vulkan 规范与教程（如 Vulkan Tutorial、Khronos 文档）
   - 做小修改验证理解（例如改成别的采样方式、关掉某个效果等）

4. **尝试把示例中的技术迁移到自己的小 Demo / 项目中**  
   - 能迁移，说明你真正掌握了该示例的核心内容。

---

## 如果你的基础不同，如何裁剪这条路线？

- **有 OpenGL/DirectX 经验但没用过 Vulkan**：  
  - 强烈建议完整走完「第一阶段 + 第二阶段（前半：shadow、deferred、multisampling）」  
  - PBR 和 Compute、Ray Tracing 可按兴趣后置。

- **刚接触 3D 图形**：  
  - 优先保证：`triangle` → `texture` → `descriptorsets` → `vertexattributes` → `multisampling`。  
  - 其他可以先略读、有需求再回头补。

- **已经用 Vulkan 写过小项目**：  
  - 可以从「第三阶段 PBR / glTF」或「第四阶段 Compute」开始，  
  - 然后看「第五阶段 高级特性」中你项目需要的部分。


